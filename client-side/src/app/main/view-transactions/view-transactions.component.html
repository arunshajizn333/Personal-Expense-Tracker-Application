<div class="transaction-container">
  <div class="header">
    <h2>Transaction History</h2>
    <button mat-button class="add-btn" (click)="addTransaction()">+ Add Transaction</button>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Category</th>
          <th>Note</th>
          <th>Amount</th>
          <th>Mode</th>
          <th>Type</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let txn of paginatedTransactions">
          <td>{{ txn.date | date: 'dd MMM yyyy' }}</td>
          <td>{{ txn.category }}</td>
          <td>{{ txn.note }}</td>
          <td>{{ txn.amount | currency: 'INR':'symbol-narrow' }}</td>
          <td>{{ txn.mode }}</td>
          <td>
            <span [ngClass]="txn.type" class="badge">{{ txn.type }}</span>
          </td>
          <td>
            <button (click)="deleteTransaction(txn._id)" class="delete-btn">ðŸ—‘</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="pagination">
      <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
      <button class="download-btn" (click)="downloadCSV()">Download CSV</button>
    </div>
  </div>

  <div class="file-section">
    <app-csv-dropzone></app-csv-dropzone>
  </div>
</div>
